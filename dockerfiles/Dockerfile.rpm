# Dockerfile - Centos
# Centos base image with all prerequisites to compile / install openresty and Kong

ARG DOCKER_NAMESPACE="balenalib"
ARG ARCHITECTURE="amd64"
ARG RESTY_IMAGE_BASE="centos"
ARG RESTY_IMAGE_TAG="7"

FROM ${DOCKER_NAMESPACE}/${ARCHITECTURE}-${RESTY_IMAGE_BASE}:${RESTY_IMAGE_TAG}

RUN ["cross-build-start"]

RUN install_packages
        wget \
        tar \
        readline-devel \
        pcre-devel \
        openssl-devel \
        gcc \
        curl \
        unzip \
        zlib-devel \
        make \
        gcc \
        gcc-c++ \
        bzip2 \
        patch \
        perl \
        m4 \
        git

RUN ["cross-build-end"]
